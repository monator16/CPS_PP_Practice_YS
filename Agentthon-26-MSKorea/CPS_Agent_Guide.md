# 에이전톤 로우코드 데이 - Copilot Studio편 최종 가이드 

## 멀티 에이전트 시스템 

### 멀티 에이전트 시나리오

“나는 M3 매니저고 지금 프라하 출장 가려고 해”

시스템이 자동으로 해야 할 일:

1. 사용자 신원 파악
    - 처음 유저 쿼리 Context 

2. 출장 유형 판별

    - 프라하 → 해외 출장

3. 정책 스코프 결정

    - 직종: Manager (COntext에서 못 얻었으면 질문)
    - 지역: International

4. 정확한 정책 에이전트 호출

5. 혼합 없는 답변 제공

### 구조

[User]
  ↓
[Orchestrator Agent]
  ├─ M365 Context Tool (People Profile)
  │    └ 직급, 조직, 국가
  ├─ Intent Parser
  │    └ 출장 / 휴가 / 지역
        If Context 불완전하면 Clarifying Question
  │    └ "국내 출장인가요 해외인가요?"
  └─ Routing Logic
       ├─ Domestic Policy Agent
       └─ International Policy Agent

### 테스트 질문
#### 국내
No,질문 (User Query),기대 답변 및 근거,검증 포인트
1,[교통] 부산 출장 가는데 KTX 특실 타도 돼?,가능합니다. (제4조: 과장~매니저급 이상은 특실 이용 가능 및 전액 지원),직급(M3) 인식 여부
2,[숙박] 광주 광역시 숙박비 한도가 얼마야?,"120,000원입니다. (제6조: 특별시 및 광역시는 12만 원)",지역 구분(광역시 vs 기타)
3,[숙박] 세종시 출장인데 숙박비 10만 원 결제해도 돼?,불가능합니다. (제6조: 기타 지역은 9만 원 한도),'기타 지역' 한도 체크
4,[장기] 제주도 10일 출장 가면 숙박비 할인 규정 있어?,"네, 10% 감액됩니다. (제6조: 동일 지역 7일 이상 체류 시 10% 감액)",조건부(7일 이상) 계산
5,[자차] 내 차로 가려는데 기름값 얼마나 줘?,km당 200원입니다. (제4조: 유류비 지급 기준),단순 사실 검색

#### 해외
No	질문 (User Query)	기대 답변 및 근거	검증 포인트
6	[항공] 프라하 출장 가는데 비즈니스석 탈 수 있어?	네, 가능합니다. (제3조: M3 이상 + 8시간 초과 장거리 노선)	멀티 에이전트 핵심 (국내 KTX 질문과 대비됨)
7	[항공] 도쿄 출장 가는데 비즈니스석 탈 수 있어?	아니요, 불가능합니다. (제3조: 8시간 이하 단거리 노선은 이코노미 원칙)	거리/시간 조건 판단
8	[체류비] 런던 출장 가면 하루 체류비 얼마 나와?	$180입니다. (제5,6조: 런던은 A지역(고물가) 분류)	지역 그룹핑(A/B/C) 인식
9	[식대] 싱가포르 컨퍼런스에서 점심 주는데 체류비 다 받아?	아니요, 20% 차감됩니다. (제6조: 식사 제공 시 1식당 20% 차감)	예외 조항 처리
10	[준비] 여권 재발급 받아야 하는데 회사에서 돈 줘?	네, 실비 지원됩니다. (제8조: 여권/비자 비용 전액 지원)	복지 규정 확인

### 나중에 구체화 (오늘 실습으로 못 다루지만 이런 것도 가능)
(1) m365 User profile 들고 와서 자동으로 직무 판단, 거기에 따른 규정 안내 
(2) 해외 에이전트는 해외 출장 담당이니까, 여행 예약 API랑 연동하여 처리 

├─ Child 1: 국내 규정 (PDF)

├─ Child 2: 해외 규정 (PDF)

└─ Connected Agent: MSN Weather (Action)

## 실습

1. 이름및 지침 설정  

